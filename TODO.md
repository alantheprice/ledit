
This document outlines the current and future development tasks for the project. It serves as a living document to track progress and prioritize work.

## Multi-Agent Orchestration: Ready-State TODO

### High-priority (implement now)

*   **Implement `QualityOptimizer` and `QualityAwareEditor`:**
    *   Ensure `pkg/agent/quality_optimizer.go` and `pkg/agent/quality_aware_editor.go` are fully implemented.
    *   Integrate `QualityOptimizer` into `RunSimplifiedAgent` in `pkg/agent/agent.go` to determine the `QualityLevel`.
    *   Modify `executeQuickEdit` and `executeFullEdit` in `pkg/agent/editing_optimizer.go` to use `QualityAwareEditor` and pass the determined `QualityLevel`.
    *   Ensure `QualityEnhanced` is used for `executeFullEdit` if the initial `QualityLevel` is `QualityStandard`.
*   **Refactor `ContextManager` for better extensibility:**
    *   Review `pkg/agent/context_manager.go` to ensure it can easily accommodate new types of context (e.g., `CodePatterns`, `Dependencies`, `FileAnalyses`).
    *   Ensure `AddFinding` and `AddKnowledge` correctly update and leverage the persistent context.
    *   Verify `GetRolloverContext` provides relevant information for subsequent steps.
*   **Enhance `MultiAgentOrchestrator` for robust execution:**
    *   Ensure `executeSteps` in `pkg/orchestration/orchestrator.go` handles various step statuses and dependencies correctly.
    *   Improve deadlock detection and error handling within the orchestration logic.
    *   Verify `listRunnableStepIDs` accurately identifies executable steps.

### Medium-priority

*   **Improve prompt caching and warming:**
    *   Further optimize `promptCache.WarmCache()` in `pkg/agent/agent.go` for non-blocking and efficient prompt loading.
    *   Consider strategies for invalidating and refreshing cached prompts.
*   **Refine `AnalysisSummary` generation:**
    *   Enhance `generateOverview` and `generateRecommendations` in `pkg/agent/context_manager.go` to provide more actionable insights.
    *   Explore using LLMs to generate more nuanced summaries based on the `PersistentContext`.
*   **Expand tool context enrichment:**
    *   Add more sophisticated logic to `enrichStepWithToolContext` in `pkg/orchestration/orchestrator.go` to provide richer context to agents (e.g., code structure, relevant documentation snippets).

### Nice-to-have

*   **Implement more advanced validation stages:**
    *   Add more comprehensive checks in `runValidationStage` in `pkg/orchestration/orchestrator.go` beyond basic build/test/lint.
    *   Consider integrating static analysis tools or custom rule engines.
*   **Visualize agent progress:**
    *   Develop a UI component to visually represent the progress table generated by `printProgressTable` in `pkg/orchestration/orchestrator.go`.
*   **Automate context cleanup:**
    *   Implement a background process or scheduled task to regularly call `CleanupOldContexts` in `pkg/agent/context_manager.go`.