Files over 400 lines that may need refactoring:

./pkg/console/components/agent_console.go - 2,232 lines
./pkg/workspace/workspace_manager.go - 1,552 lines
./pkg/console/components/input_manager.go - 1,232 lines
./pkg/agent/tool_registry.go - 987 lines
./pkg/codereview/service.go - 973 lines
./pkg/console/terminal_controller.go - 957 lines
./pkg/agent/agent.go - 924 lines
./pkg/agent_commands/commit.go - 897 lines
./pkg/console/components/footer.go - 894 lines
./pkg/agent_providers/openrouter.go - 847 lines
./pkg/agent_tools/vision.go - 803 lines
./pkg/agent_commands/models.go - 784 lines
./cmd/mcp.go - 755 lines
./pkg/agent_providers/deepinfra.go - 727 lines
./pkg/workspace/workspace_context.go - 722 lines
./pkg/console/components/terminal_ui_test.go - 712 lines
./pkg/tools/builtin.go - 696 lines
./pkg/console/components/input_test.go - 685 lines
./pkg/agent_api/openai.go - 683 lines
./pkg/console/components/streaming_formatter.go - 654 lines
./pkg/agent_tools/todo.go - 621 lines
./pkg/console/app.go - 576 lines
./pkg/mcp/client.go - 570 lines
./pkg/agent_commands/mcp.go - 568 lines
./pkg/filediscovery/filediscovery.go - 549 lines
./pkg/console/components/input.go - 549 lines
./pkg/configuration/init.go - 548 lines
./pkg/mcp/http_client.go - 537 lines
./pkg/agent/conversation_handler.go - 520 lines
./pkg/workspace/concurrent_analyzer.go - 518 lines
./pkg/console/components/ui_regression_test.go - 504 lines
./pkg/agent_api/tools.go - 492 lines
./pkg/console/components/dropdown.go - 486 lines
./pkg/agent_api/unified.go - 486 lines
./internal/domain/agent/workflow.go - 480 lines
./pkg/ui/core/components/dropdown.go - 469 lines
./pkg/agent_api/streaming_test.go - 468 lines
./pkg/console/components/streaming_formatter_test.go - 464 lines
./pkg/utils/utils.go - 458 lines
./pkg/agent/conversation_optimizer.go - 447 lines
./pkg/console/components/ui_comprehensive_test.go - 444 lines
./pkg/agent/api_client.go - 444 lines
./internal/domain/todo/service.go - 444 lines
./pkg/console/console_buffer.go - 443 lines
./pkg/agent_api/models.go - 441 lines
./pkg/agent_commands/init.go - 438 lines
./pkg/agent_commands/shell.go - 431 lines
./pkg/console/terminal_manager_unix.go - 428 lines
./pkg/agent/conversation_pruner.go - 424 lines
./pkg/history/changetracker.go - 416 lines
./pkg/agent_commands/commit_flow.go - 416 lines
./pkg/workspace/workspace_analyzer.go - 415 lines
./pkg/agent/conversation_refactored.go - 412 lines
./pkg/agent/summary.go - 406 lines
./pkg/console/terminal_manager_windows.go - 405 lines
./pkg/console/ci_output_handler.go - 401 lines

Total: 48 files over 400 lines
Total lines: 74,349 lines